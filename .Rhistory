out="models.txt")
stargazer(M2a, M2b, M2c, M3a, M3b, M3c, type="text",
out="bertrand table 2 - women and men.txt")
M1ma <- lm(vhappy ~ career + married + career*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4))
summary(M1ma)
M1mc <- lm(vhappy ~ career + married + career*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & age>=40))
summary(M1mc)
stargazer(M1a, M1c, M1ma, M1mc, type="text",
out="bertrand table 1 - women and men.txt")
# Regressions from Bertrand (2013) - carrer1, table 1
M1a_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4))
summary(M1a_c1)
M1c_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & age>=40))
summary(M1c_c1)
# Regressions from Bertrand (2013)- carrer1, table 1 - men
M1ma_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4))
summary(M1ma_c1)
M1mc_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & age>=40))
summary(M1mc_c1)
M1a_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4))
z$career1 <- z$rinc > z$p50
z$career1 <- as.numeric(z$career1)
z$career1[is.na(z$career1)] <- 0
t <- z
t = t[t$year >= 1977 & t$year < 2012,]
M1a_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4))
summary(M1a_c1)
M1c_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & age>=40))
summary(M1c_c1)
# Regressions from Bertrand (2013)- carrer1, table 1 - men
M1ma_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4))
summary(M1ma_c1)
M1mc_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & age>=40))
summary(M1mc_c1)
stargazer(M1a_c1, M1c_c1, M1ma_c1, M1mc_c1, type="text",
out="bertrand table 1 - career1 - women and men.txt")
M2a_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2a_c1)
M2b_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2b_c1)
M2c_c1 <- lm(vhappy ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2c_c1)
# Do the same for men (carreer1)
M3a_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3a_c1)
M3b_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3b_c1)
M3c_c1 <- lm(vhappy ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3c_c1)
stargazer(M2a_c1, M2b_c1, M2c_c1, M3a_c1, M3b_c1, M3c_c1, type="text",
out="bertrand table 2 - career1 - women and men.txt")
stargazer(W3_c1, W3_c1_k, Men3_c1, Men3c_c1_k, type="text",
out="bertrand table 2 - career1 - kids.txt")
W3c_c1 <- lm(vhappy ~ career1 + keepinghouse + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(W3c_c1)
Men3c_c1 <- lm(vhappy ~ career1 + keepinghouse + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(Men3c_c1)
# Bertrand table 2, including child and interaction (career1)
W3c_c1_k <- lm(vhappy ~ career1 + keepinghouse + kid + kid*career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(W3c_c1_k)
Men3c_c1_k <- lm(vhappy ~ career1 + keepinghouse + kid + kid*career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(Men3c_c1_k)
stargazer(W3c_c1, W3c_c1_k, Men3c_c1, Men3c_c1_k, type="text",
out="bertrand table 2 - career1 - kids.txt")
table(t$$jobsat)
table(t$jobsat)
table(t$jobsat1)
table(t$vjobsat)
table(t$vjobsat1)
table(t$vjobsat2)
Pen1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, educat == 4 & vjobsat1 == 1))
summary(Pen1)
table(t$workhours)
table(t$hrs1)
z$spouse_work <- NULL
z$spouse_work[z$spwrksta==1] <- 1
z$spouse_work[z$spwrksta==2] <- 2
z$spouse_work[z$spwrksta==7] <- 7
z$spouse_ft <- NULL
z$spouse_ft[z$spwrksta==1] <- 1
z$spouse_ft[z$spwrksta==2 | z$spwrksta==7] <- 0
z$spouse_home <- NULL
z$spouse_ft[z$spwrksta==7] <- 1
z$spouse_ft[z$spwrksta==1 | z$spwrksta==2] <- 0
t <- z
t = t[t$year >= 1977 & t$year < 2012,]
PenM1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM1)
PenF1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF1)
PenM2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM2)
PenF2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF2)
PenM3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM3)
PenF3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF3)
PenM4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM4)
PenF4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF4)
## Spouse work
PenM5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM5)
PenF5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF5)
z$spouse_ft <- NULL
z$spouse_ft[z$spwrksta==1] <- 1
z$spouse_ft[z$spwrksta==2 | z$spwrksta==7] <- 0
z$spouse_home <- NULL
z$spouse_ft <- NULL
z$spouse_ft[z$spwrksta==1] <- 1
z$spouse_ft[z$spwrksta==2 | z$spwrksta==7] <- 0
z$spouse_home <- NULL
z$spouse_home[z$spwrksta==7] <- 1
z$spouse_home[z$spwrksta==1 | z$spwrksta==2] <- 0
PenM1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM1)
PenF1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF1)
PenM2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM2)
PenF2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF2)
PenM3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM3)
PenF3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF3)
PenM4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM4)
PenF4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF4)
## Spouse work
PenM5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM5)
PenF5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF5)
t <- z
t = t[t$year >= 1977 & t$year < 2012,]
PenM1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM1)
PenF1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF1)
PenM2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM2)
PenF2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF2)
PenM3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM3)
PenF3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF3)
PenM4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM4)
PenF4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF4)
## Spouse work
PenM5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM5)
PenF5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF5)
stargazer(PenM1, PenF1, PenM2, PenF2, PenM3, PenF3, PenM4, PenF4, PenM5, PenF5, type="text",
out="New regressions - lifesat penalty.txt")
#########################################
#         Fun and regressions           #
#########################################
library(stargazer)
# Set working directory
setwd("~/Documents/CDA/collaborative_projects/Final_Project_P-P")
# Load the data set
load("data/data_final.rda")
# Create a variable for partner's income
z$othinccat <- trunc(z$def_othinc/10000)
z$othinccat[is.na(z$othinc)] <- -1
table(z$othinccat)
z$rinccat <- trunc(z$def_rinc/10000)
z$rinccat[is.na(z$def_rinc)] <- -1
table(z$rinccat)
# Create career1
z$career1 <- z$rinc > z$p50
z$career1 <- as.numeric(z$career1)
z$career1[is.na(z$career1)] <- 0
# Create spouse work categories
z$spouse_work <- NULL
z$spouse_work[z$spwrksta==1] <- 1
z$spouse_work[z$spwrksta==2] <- 2
z$spouse_work[z$spwrksta==7] <- 7
z$spouse_ft <- NULL
z$spouse_ft[z$spwrksta==1] <- 1
z$spouse_ft[z$spwrksta==2 | z$spwrksta==7] <- 0
z$spouse_home <- NULL
z$spouse_home[z$spwrksta==7] <- 1
z$spouse_home[z$spwrksta==1 | z$spwrksta==2] <- 0
# Data-set "t" is limited to the years where "career" is defined
t <- z
t = t[t$year >= 1977 & t$year < 2012,]
# Regressions from Bertrand (2013), table 1
M1a <- lm(vhappy ~ career + married + career*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4))
summary(M1a)
M1c <- lm(vhappy ~ career + married + career*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & age>=40))
summary(M1c)
# Regressions from Bertrand (2013), table 1 - men
M1ma <- lm(vhappy ~ career + married + career*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4))
summary(M1ma)
M1mc <- lm(vhappy ~ career + married + career*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & age>=40))
summary(M1mc)
# Regressions from Bertrand (2013) - carrer1, table 1
M1a_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4))
summary(M1a_c1)
M1c_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & age>=40))
summary(M1c_c1)
# Regressions from Bertrand (2013)- carrer1, table 1 - men
M1ma_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4))
summary(M1ma_c1)
M1mc_c1 <- lm(vhappy ~ career1 + married + career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & age>=40))
summary(M1mc_c1)
# Regressions from Bertrand (2013), table 2
M2a <- lm(vhappy ~ career + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2a)
M2b <- lm(vhappy ~ career + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2b)
M2c <- lm(vhappy ~ career + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2c)
# Do the same for men
M3a <- lm(vhappy ~ career + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3a)
M3b <- lm(vhappy ~ career + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3b)
M3c <- lm(vhappy ~ career + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3c)
# Regressions from Bertrand (2013), table 2 (career 1)
M2a_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2a_c1)
M2b_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2b_c1)
M2c_c1 <- lm(vhappy ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(M2c_c1)
# Do the same for men (carreer1)
M3a_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3a_c1)
M3b_c1 <- lm(vhappy ~ career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3b_c1)
M3c_c1 <- lm(vhappy ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(M3c_c1)
# Stargazer output
stargazer(M2a, M2b, M2c, M3a, M3b, M3c, type="text",
out="bertrand table 2 - women and men.txt")
stargazer(M2a_c1, M2b_c1, M2c_c1, M3a_c1, M3b_c1, M3c_c1, type="text",
out="bertrand table 2 - career1 - women and men.txt")
stargazer(M1a, M1c, M1ma, M1mc, type="text",
out="bertrand table 1 - women and men.txt")
stargazer(M1a_c1, M1c_c1, M1ma_c1, M1mc_c1, type="text",
out="bertrand table 1 - career1 - women and men.txt")
## Life-satisfaction penalty
# Bertrand table 2, including child dummy (career1)
W3c_c1 <- lm(vhappy ~ career1 + keepinghouse + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(W3c_c1)
Men3c_c1 <- lm(vhappy ~ career1 + keepinghouse + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(Men3c_c1)
# Bertrand table 2, including child and interaction (career1)
W3c_c1_k <- lm(vhappy ~ career1 + keepinghouse + kid + kid*career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==2 & educat == 4 & married == 1))
summary(W3c_c1_k)
Men3c_c1_k <- lm(vhappy ~ career1 + keepinghouse + kid + kid*career1 + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex==1 & educat == 4 & married == 1))
summary(Men3c_c1_k)
stargazer(W3c_c1, W3c_c1_k, Men3c_c1, Men3c_c1_k, type="text",
out="bertrand table 2 - career1 - kids.txt")
## New section: What determines loss of life-satisfaction.
PenM1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM1)
PenF1 <- lm(vhappy ~ career1 + married + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF1)
PenM2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM2)
PenF2 <- lm(vhappy ~ career1 + married + married*career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF2)
PenM3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & vjobsat1 == 1))
summary(PenM3)
PenF3 <- lm(vhappy ~ career1 + married + married*career1 + hrs1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & vjobsat1 == 1))
summary(PenF3)
PenM4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM4)
PenF4 <- lm(vhappy ~ career1 + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF4)
## Spouse work
PenM5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM5)
PenF5 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF5)
stargazer(PenM1, PenF1, PenM2, PenF2, PenM3, PenF3, PenM4, PenF4, PenM5, PenF5, type="text",
out="New regressions - lifesat penalty.txt")
## New double click
PenM6 <- lm(vhappy ~ career1 + career1*kid + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenM6)
PenF6 <- lm(vhappy ~ career1 + career1*kid + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & married == 1 & vjobsat1 == 1))
summary(PenF6)
stargazer(PenM5, PenF5, PenM6, PenF6, type="text",
out="New regressions 2 - lifesat penalty.txt")
describe(t$family)
PenM6 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & family == 1 & vjobsat1 == 1))
summary(PenM6)
PenF6 <- lm(vhappy ~ career1 + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & family == 1 & vjobsat1 == 1))
summary(PenF6)
PenM7 <- lm(vhappy ~ career1 + career1*kid + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 1 & educat == 4 & family == 1 & vjobsat1 == 1))
summary(PenM7)
PenF7 <- lm(vhappy ~ career1 + career1*kid + spouse_ft + spouse_home + kid + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(t, sex == 2 & educat == 4 & family == 1 & vjobsat1 == 1))
summary(PenF7)
stargazer(PenM6, PenF6, PenM7, PenF7, type="text",
out="New regressions 2 - lifesat penalty.txt")
setwd("~/Documents/CDA/collaborative_projects/Final_Project_P-P") # Unger
load("data/data_final.rda")
z$working_ft <- as.numeric(z$working_ft)
z$working_pt <- as.numeric(z$working_pt)
z$career1 <- z$rinc > z$p50
z$career1 <- as.numeric(z$career1)
z$career1[is.na(z$career1)] <- 0
z$meanhap <- NA
z$meanhap[z$family==0 & z$career1==0] <- "Low-inc., no family"
z$meanhap[z$family==0 & z$career1==1] <- "High-inc., no family"
z$meanhap[z$family==1 & z$career1==0] <- "Low-inc., family"
z$meanhap[z$family==1 & z$career1==1] <- "High-inc., family"
ggplot() +
stat_summary(data = z[z$sex == 1 & z$educat==4 ,], aes(x=factor(meanhap), y=vhappyb),
fun.y="mean", geom="point", col="Navyblue") +
stat_summary(data = z[z$sex == 2 & z$educat==4,], aes(x=factor(meanhap), y=vhappyb),
fun.y="mean", geom="point", col="Red") +
scale_x_discrete("Family-work combination", limits=c("Low-inc., no family",
"High-inc., no family", "Low-inc., family", "High-inc., family")) +
scale_y_continuous("Percentage very happy") +
theme_bw()
M1a <- lm(vhappyb ~ career1*married + age + agesq + as.factor(year) + as.factor(race) + as.factor(bdec),
data = subset(z, sex==2 & educat == 4))
M2a <- lm(vhappyb ~ career1*married + age + agesq + as.factor(year) +as.factor(race) + as.factor(bdec),
data = subset(z, sex==1 & educat == 4))
stargazer::stargazer(M1a, M2a,
type = 'html',
omit = c("year", "bdec", "race"),
omit.labels = c("Year", "Race", "Cohort"),
column.labels = c("Women", "Men"),
covariate.labels = c("High-income", "Married", "Age",
"Age-squared", "High-income*Married"),
dep.var.labels   = "Very happy")
stargazer::stargazer(M1a, M2a,
type = 'text',
omit = c("year", "bdec", "race"),
omit.labels = c("Year", "Race", "Cohort"),
column.labels = c("Women", "Men"),
covariate.labels = c("High-income", "Married", "Age",
"Age-squared", "High-income*Married"),
dep.var.labels   = "Very happy")
interM1 <- interplot(M1a, var1 = "married", var2 = "career") +
ggtitle("Women") +
xlab("1 = High-income") +
ylab("effect of marriage on life satisfaction") +
expand_limits(y=c(0,30)) +
theme_bw()
interM2 <- interplot(M2a, var1 = "married", var2 = "career") +
ggtitle("Men") +
xlab("1 = High-income") +
expand_limits(y=c(0,30)) +
theme_bw()
grid.arrange(interM1, interM2, ncol = 2)
PackagesUsed <- c("ggplot2", "repmis", "plyr", "dplyr", "MASS", "Hmisc", "interplot", "gridExtra", "repmis", "car", "reshape", "gmodels", "quantmod", "foreign")
repmis::LoadandCite(PackagesUsed, file = "packages_pres.bib", install = FALSE)
interM1 <- interplot(M1a, var1 = "married", var2 = "career") +
ggtitle("Women") +
xlab("1 = High-income") +
ylab("effect of marriage on life satisfaction") +
expand_limits(y=c(0,30)) +
theme_bw()
interM2 <- interplot(M2a, var1 = "married", var2 = "career") +
ggtitle("Men") +
xlab("1 = High-income") +
expand_limits(y=c(0,30)) +
theme_bw()
grid.arrange(interM1, interM2, ncol = 2)
interM1 <- interplot(M1a, var1 = "married", var2 = "career1") +
ggtitle("Women") +
xlab("1 = High-income") +
ylab("effect of marriage on life satisfaction") +
expand_limits(y=c(0,30)) +
theme_bw()
interM2 <- interplot(M2a, var1 = "married", var2 = "career1") +
ggtitle("Men") +
xlab("1 = High-income") +
expand_limits(y=c(0,30)) +
theme_bw()
grid.arrange(interM1, interM2, ncol = 2)
stargazer::stargazer(M3, M4,
type = 'text',
omit = c("othinccat", "year", "bdec", "race"),
omit.labels = c("Partner's income", "Year", "Race", "Cohort"),
column.labels = c("Women", "Men"),
covariate.labels = c("High-income", "Married", "Age",
"Age-squared", "High-income*Married"),
dep.var.labels   = "Very happy")
M3 <- lm(vhappyb ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) +         as.factor(bdec), data = subset(z, sex==2 & educat == 4 & married == 1))
M4 <- <- lm(vhappyb ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race)          + as.factor(bdec), data = subset(z, sex==1 & educat == 4 & married == 1))
M3 <- lm(vhappyb ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) +         as.factor(bdec), data = subset(z, sex==2 & educat == 4 & married == 1))
M4 <- lm(vhappyb ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race)          + as.factor(bdec), data = subset(z, sex==1 & educat == 4 & married == 1))
stargazer::stargazer(M3, M4,
type = 'text',
omit = c("othinccat", "year", "bdec", "race"),
omit.labels = c("Partner's income", "Year", "Race", "Cohort"),
column.labels = c("Women", "Men"),
covariate.labels = c("High-income", "Keeping house", "Age",
"Age-squared"),
dep.var.labels   = "Very happy")
z$othinccat <- trunc(z$def_othinc/10000)
z$othinccat[is.na(z$othinc)] <- -1
table(z$othinccat)
M3 <- lm(vhappyb ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race) +         as.factor(bdec), data = subset(z, sex==2 & educat == 4 & married == 1))
M4 <- lm(vhappyb ~ career1 + keepinghouse + age + agesq + as.factor(othinccat) + as.factor(year) + as.factor(race)          + as.factor(bdec), data = subset(z, sex==1 & educat == 4 & married == 1))
stargazer::stargazer(M3, M4,
type = 'text',
omit = c("othinccat", "year", "bdec", "race"),
omit.labels = c("Partner's income", "Year", "Race", "Cohort"),
column.labels = c("Women", "Men"),
covariate.labels = c("High-income", "Keeping house", "Age",
"Age-squared"),
dep.var.labels   = "Very happy")
